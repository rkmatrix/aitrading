# Phase 54 â€” Live Reward Feedback Loop
mode: DRY_RUN        # DRY_RUN | LIVE
log_level: INFO
symbols: ["AAPL", "MSFT", "TSLA"]
loop:
  interval_sec: 1.5         # how often to poll/process
  bursts: 1                 # number of batches per run loop (for --once keep at 1)
  max_events_per_burst: 10  # cap events processed in one burst

source:
  type: dummy               # dummy | alpaca (placeholder)
  dummy:
    seed: 42
    event_rate_per_symbol: 2     # approx events per burst per symbol
    price:
      start: 100.0
      drift_perc: 0.0005
      vol_perc: 0.01

reward:
  weights:
    pnl_realized: 1.0
    pnl_unrealized: 0.2
    drawdown_penalty: -0.6
    slippage_penalty: -0.2
    risk_penalty: -0.3
  params:
    max_drawdown_window: 200
    risk_target_vol: 0.02
    slippage_bps: 2.0

sinks:
  csv_path: data/rewards/phase54_events.csv
  summary_path: data/reports/phase54_reward_summary.json
  notify:
    enabled: true
    only_on_anomaly: true
    anomaly_threshold: 2.5  # z-score on reward

# Optional Telegram; if env vars are set, alerts will flow.
telegram:
  enabled: true
  kind: guardian
